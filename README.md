
## TODO

1. 结果画图
    - gflops图
    - 时间图
2. python 版本； 调用c接口 <https://github.com/flame/how-to-optimize-gemm.git>
3. export OMP_NUM_THREADS=1;export GOTO_NUM_THREADS=1

## python matmul

### numpy

1. result

``` sh
+-------+---------+----------+---------+
|   num |  GFlops | time(ms) |  GFLOPS |
+-------+---------+----------+---------+
|   128 |    0.00 |     1.66 |    2.53 |
|   256 |    0.03 |     2.72 |   12.32 |
|   512 |    0.27 |    17.04 |   15.75 |
|  1024 |    2.15 |    70.78 |   30.34 |
|  2048 |   17.18 |   152.17 |  112.90 |
|  4096 |  137.44 |   225.83 |  608.59 |
|  8192 | 1099.51 |   547.01 | 2010.04 |
| 16384 | 8796.09 |  3373.71 | 2607.24 |
+-------+---------+----------+---------+
```

1. 从表中可以看出 2048 执行效率比较差

### pytorch

1. result

``` sh
+-------+---------+----------+---------+-------------+---------------+-------------+
|   num |  GFlops | time(ms) |  GFLOPS | GFlops_cuda | time_cuda(ms) | GFLOPS_cuda |
+-------+---------+----------+---------+-------------+---------------+-------------+
|   128 |    0.00 |     0.58 |    7.24 |        0.00 |          0.08 |       54.66 |
|   256 |    0.03 |     0.15 |  226.08 |        0.03 |          0.02 |     1431.14 |
|   512 |    0.27 |     0.40 |  671.73 |        0.27 |          0.03 |     8656.42 |
|  1024 |    2.15 |     1.89 | 1134.48 |        2.15 |          0.03 |    83358.54 |
|  2048 |   17.18 |     9.30 | 1847.60 |       17.18 |          0.28 |    61651.06 |
|  4096 |  137.44 |    83.13 | 1653.34 |      137.44 |          0.29 |   466111.20 |
|  8192 | 1099.51 |   431.38 | 2548.80 |     1099.51 |          0.50 |  2212025.53 |
| 16384 | 8796.09 |  3244.75 | 2710.87 |     8796.09 |          1.27 |  6953284.93 |
+-------+---------+----------+---------+-------------+---------------+-------------+
```

1. 大矩阵运算 cuda 比 cpu 快的多， 1000多倍的加速比
